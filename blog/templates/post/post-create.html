{% extends 'layouts/general-layouts.html' %}

{% block title %}Post{% endblock title %}

{% block content %}
<section class="min-h-[70vh] flex items-center justify-center bg-gray-50 py-12 px-4">

    <div class="w-full max-w-md bg-white shadow-xl rounded-2xl p-8">

        <h2 class="text-2xl font-bold text-center text-pink-700 mb-6">
            Crear nuevo Post
        </h2>

        {% if not user.is_authenticated %}
            <p class="text-red-600 font-semibold mb-4 text-center">⚠️ Debes iniciar sesión para crear un post</p>
        {% endif %}

        <form method="post" enctype="multipart/form-data" class="space-y-4">
            {% csrf_token %}

            <div>
                {{ form.title.label_tag }}
                {{ form.title }}
            </div>

            <div>
                {{ form.content.label_tag }}
                {{ form.content }}
            </div>

            <div class="flex items-center gap-2">
                {{ form.allow_comments }}
                {{ form.allow_comments.label_tag }}
            </div>

            <div>
                <label class="block mb-1 font-medium">Imágenes</label>
                <input type="file" name="images" multiple
                       class="w-full border rounded-lg p-2">
            </div>

            <button
                type="submit"
                {% if not user.is_authenticated %}disabled{% endif %}
                class="w-full bg-pink-600 text-white py-3 rounded-lg font-semibold
                    {% if not user.is_authenticated %}
                        opacity-50 cursor-not-allowed
                    {% else %}
                        hover:bg-pink-700
                    {% endif %}">
                Crear Post
            </button>
        </form>

    </div>

</section>
{% endblock content %}
